{% from 'macros.html' import highlight_component, filter_buttons %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Book Capsule{% endblock %}</title>
    <link href="{{ url_for('static', filename='css/output.css') }}" rel="stylesheet">
</head>
<body class="min-h-screen dark:bg-slate-900 bg-slate-100">
    <nav class="sticky top-0 text-sky-50 bg-sky-800 dark:bg-sky-950 dark:text-sky-200">
        <div class="flex flex-wrap justify-between items-center px-5 space-x-4 max-w-2xl">
                <div class="flex items-center mt-2 space-x-2 sm:mt-0">
                    <!-- filter buttons -->
                    {% if request.path not in [url_for('focused_view'), url_for('books_list'), url_for('favorites')] %}
                        <button id="favoriteToggle" class="px-2 py-1 text-xs {% if favorite_filter == True %}bg-sky-600{% elif favorite_filter == False %}bg-slate-500{% else %}bg-sky-800{% endif %}"
                                onclick="toggleFilter('favorite')">
                            {% if favorite_filter == True %}
                                Favorited
                            {% elif favorite_filter == False %}
                                Non-Favorited
                            {% else %}
                                Off
                            {% endif %}
                        </button>
                        <button id="readToggle" class="px-2 py-1 text-xs {% if read_filter == True %}bg-sky-600{% elif read_filter == False %}bg-slate-500{% else %}bg-sky-800{% endif %}"
                                onclick="toggleFilter('read')">
                            {% if read_filter == True %}
                                Read
                            {% elif read_filter == False %}
                                Unread
                            {% else %}
                                Off
                            {% endif %}
                        </button>
                    {% endif %}
                    <!-- end filter buttons -->
                </div>
            <div class="flex justify-center items-center space-x-4 sm:justify-end">
                <a href="{{ url_for('index') }}" class="hover:underline">random</a>
                <a href="{{ url_for('books_list') }}" class="hover:underline">books</a>
                <a href="{{ url_for('favorites') }}" class="hover:underline">favorites</a>
                <a href="{{ url_for('highlights_with_notes') }}" class="hover:underline">notes</a>
                <a href="{{ url_for('focused_view') }}" class="hover:underline">focused</a>
            </div>

            
        </div>
    </nav>

    <main class="container px-5 mt-8 max-w-2xl">
    {% block content %}{% endblock %}
        <a href="{{request.url}}">
            <img
                class="mb-8 my-8 max-w-[200px] mx-auto"
                src="{{ url_for('static', filename='images/doggo.webp') }}"
                alt="Illustration of dog fetching stack of papers"
            />
        </a>
    </main>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

</body>
</html>
